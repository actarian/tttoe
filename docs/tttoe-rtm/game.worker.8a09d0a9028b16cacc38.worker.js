/*! For license information please see game.worker.8a09d0a9028b16cacc38.worker.js.LICENSE.txt */
(()=>{"use strict";var r=Number.POSITIVE_INFINITY,n=function(){function n(){}return n.canMove=function(r){for(var n=0;n<9;n++)if(null===r[n])return!0;return!1},n.getScore=function(r,n,e){for(var t=0;t<9;t+=3)if(r[t]==r[t+1]&&r[t+1]==r[t+2]){if(r[t]===n)return 10;if(r[t]===e)return-10}for(var i=0;i<3;i++)if(r[i]===r[i+3]&&r[i+3]===r[i+6]){if(r[i]===n)return 10;if(r[i]===e)return-10}if(r[0]===r[4]&&r[4]===r[8]){if(r[0]==n)return 10;if(r[0]==e)return-10}if(r[2]===r[4]&&r[4]===r[6]){if(r[2]==n)return 10;if(r[2]==e)return-10}return 0},n.minimax=function(e,t,i,f,u,a){var o,s=n.getScore(e,f,u);if(10==s)return a.win++,a.matches++,s;if(-10==s)return a.loss++,a.matches++,s;if(!n.canMove(e))return a.matches++,0;if(i){o=-r;for(var c=0;c<9;c++)null===(l=e)[c]&&(l[c]=f,o=Math.max(o,n.minimax(l,t+1,!i,f,u,a)),l[c]=null)}else for(o=r,c=0;c<9;c++){var l;null===(l=e)[c]&&(l[c]=u,o=Math.min(o,n.minimax(l,t+1,!i,f,u,a)),l[c]=null)}return o},n.findBestMove=function(e,t,i){for(var f=[],u={matches:0,win:0,loss:0},a=0;a<9;a++){var o=e;if(!o[a]){o[a]=t;var s=n.minimax(o,0,!1,t,i,u);f.push({score:s,move:a}),o[a]=null}}var c=f.reduce((function(r,n){return n.score>r?n.score:r}),-r),l=f.filter((function(r){return r.score===c}));return l.length?l[a=Math.floor(l.length*Math.random())].move:-1},n}();self.addEventListener("message",(function(r){if(r&&r.data){var e=r.data,t=n.findBestMove(e.board,e.player,e.opponent);postMessage({bestMove:t})}}))})();
//# sourceMappingURL=game.worker.41857a4834dd34cb0dcb6a70790f4614..js.map